{% extends "base.html" %}

{% block content %}
  <h2>{{catalog.name}}</h2>
  <p>
    {{catalog.description}}
  </p>
  <img src="{{catalog.cover_picture}}">

  {% if categories %}
    {% for category in categories if categories %}
      <div class="category">
        <h3>{{category.name}}</h3>
        <p>{{category.description}}</p>

        {% for item in category.get_items() %}
          <h4>{{item.name}}</h4>
          <p>{{item.description}}</p>
          <p>Price: {{item.price}}</p>
          <img href="{{item.picture}}">
          <p id="edititem">
            <a href="/catalog/{{catalog.key.id()}}/edititem/{{item.key.id()}}">Edit item</a>
          </p>
        {% endfor %}

        <p>
          <a href="/catalog/{{catalog.key.id()}}/editcategory/{{category.key.id()}}">Edit category</a>
        </p>

      </div>
    {% endfor %}
  {% endif %}

  <p id="editcatalog">
    <a href="/editcatalog/{{catalog.key.id()}}">Edit Catalog</a>
  </p>

  <p id="addcategory">
    <a href="/catalog/{{catalog.key.id()}}/addcategory">Add Category</a>
  </p>

  <p id="additem">
    <a href="/catalog/{{catalog.key.id()}}/additem">Add Item</a>
  </p>

{% endblock content %}
